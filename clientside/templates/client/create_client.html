{% extends "base.html" %}

{% block content %}

{% load widget_tweaks %}


<div class="container my-4">
    <h1 class="mb-4">Create a Client</h1>

    <form method="POST" class="row g-3">
        {% csrf_token %}

        <!-- REGION -->
        <div class="col-md-6">
            <label for="id_region" class="form-label">Region</label>
            <select 
                name="region"
                id="id_region"
                class="form-select"
                hx-get="{% url 'load-provinces' %}"
                hx-target="#province-container"
                hx-trigger="change"
            >
                <option value="">---------</option>
                {% for region in regions %}
                <option value="{{ region.id }}">{{ region.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- PROVINCE -->
        <div class="col-md-6" id="province-container">
            {% include 'client/partials/province_dropdown.html' with provinces=None %}
        </div>

        <!-- MUNICIPALITY -->
        <div class="col-md-6" id="municipality-container">
            {% include 'client/partials/municipality_dropdown.html' with municipalities=None %}
        </div>

        <!-- BARANGAY -->
        <div class="col-md-6" id="barangay-container">
            {% include 'client/partials/barangay_dropdown.html' with barangays=None %}
        </div>

        <!-- STREET & HOUSE NUMBER -->
        <div class="col-md-12">
            <label for="{{ form.house_number_street.id_for_label }}" class="form-label">Street and House Number (Optional)</label>
            {{ form.house_number_street|add_class:"form-control" }}
        </div>

        <!-- OTHER CLIENT FIELDS -->
        <div class="col-md-6">
            <label for="{{ form.name.id_for_label }}" class="form-label">Name</label>
            {{ form.name|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.trade_name.id_for_label }}" class="form-label">Trade Name</label>
            {{ form.trade_name|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.contact_number.id_for_label }}" class="form-label">Contact Number</label>
            {{ form.contact_number|add_class:"form-control" }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.status.id_for_label }}" class="form-label">Status</label>
            {{ form.status|add_class:"form-select" }}
        </div>

        <div class="col-md-6">
            <label for="{{ form.application_date.id_for_label }}" class="form-label">Application Date</label>
            {{ form.application_date|add_class:"form-control" }}
        </div>

        <div class="col-12">
            <button type="submit" class="btn btn-success">Save Client</button>
        </div>
    </form>
</div>

{% endblock %}
